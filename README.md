# AI å åœ - ChatGPT Tarot Divination

åŸºäº ChatGPT çš„ AI ç®—å‘½ã€å åœåº”ç”¨ï¼Œæ”¯æŒå¤šç§å åœæ–¹å¼ï¼Œæä¾›æµå¼è¾“å‡ºä½“éªŒå’Œå†å²è®°å½•ç®¡ç†ã€‚

![demo](assets/demo.png)

## åŠŸèƒ½åˆ—è¡¨

- [x] **å¡”ç½—ç‰Œå åœ** - é€šè¿‡å¡”ç½—ç‰Œæ¢ç´¢å†…å¿ƒï¼Œæ´å¯Ÿæœªæ¥å¯èƒ½æ€§
- [x] **ç”Ÿè¾°å…«å­—** - æ ¹æ®å‡ºç”Ÿæ—¶é—´åˆ†æå‘½ç†è¿åŠ¿
- [x] **å§“åäº”æ ¼** - é€šè¿‡å§“åç¬”ç”»åˆ†ææ€§æ ¼å’Œå‘½è¿
- [x] **å‘¨å…¬è§£æ¢¦** - è§£ææ¢¦å¢ƒå«ä¹‰ï¼Œæ¢ç´¢æ½œæ„è¯†
- [x] **èµ·åå–å** - æ ¹æ®ç”Ÿè¾°å…«å­—å’Œäº”è¡Œæ¨èå‰ç¥¥åå­—
- [x] **æ¢…èŠ±æ˜“æ•°** - ä¼ ç»Ÿæ˜“å­¦å åœæ–¹æ³•
- [x] **å°å…­å£¬** - ç®€æ˜“æŒè¯€å åœæ³•
- [x] **å§»ç¼˜å åœ** - åˆ†ææ„Ÿæƒ…è¿åŠ¿å’Œå§»ç¼˜èµ°å‘

**ç‰¹è‰²åŠŸèƒ½**ï¼š
- ğŸŒŠ æµå¼è¾“å‡º - AI å åœç»“æœä»¥æ‰“å­—æœºæ•ˆæœå®æ—¶å‘ˆç°
- ğŸ“š å†å²è®°å½• - æ¯ç§å åœç±»å‹è‡ªåŠ¨ä¿å­˜æœ€è¿‘ 10 æ¡è®°å½•
- ğŸ“± å“åº”å¼è®¾è®¡ - å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘
- ğŸŒ™ æš—è‰²æ¨¡å¼ - æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- ğŸ¨ ä¸œæ–¹ç¾å­¦ - æœ±ç ‚çº¢ã€é’é‡‘çŸ³è“é…è‰² + æ€æºå®‹ä½“
- ğŸ›¡ï¸ é”™è¯¯è¾¹ç•Œ - é˜²æ­¢åº”ç”¨å´©æºƒ
- ğŸ“¤ ç»“æœå¯¼å‡º - æ”¯æŒå¤åˆ¶ã€åˆ†äº«ã€å¯¼å‡ºå›¾ç‰‡

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

é€‰æ‹©æœ€é€‚åˆä½ çš„éƒ¨ç½²æ–¹å¼ï¼š

| æ–¹å¼ | é€‚ç”¨åœºæ™¯ | éš¾åº¦ | æ¨èæŒ‡æ•° |
|------|----------|------|----------|
| [æ–¹å¼ä¸€ï¼šVercel ä¸€é”®éƒ¨ç½²](#æ–¹å¼ä¸€vercel-ä¸€é”®éƒ¨ç½²æ¨èâ­) | å¿«é€Ÿä½“éªŒï¼Œæ— éœ€æœåŠ¡å™¨ | â­â˜†â˜†â˜†â˜† | â­â­â­â­â­ |
| [æ–¹å¼äºŒï¼šDocker éƒ¨ç½²](#æ–¹å¼ä¸‰docker-éƒ¨ç½²) | å·²æœ‰ Docker ç¯å¢ƒ | â­â­â˜†â˜†â˜† | â­â­â­â˜†â˜† |
| [æ–¹å¼ä¸‰ï¼šæœ¬åœ°è¿è¡Œï¼ˆå¼€å‘è€…ï¼‰](#æ–¹å¼å››æœ¬åœ°è¿è¡Œå¼€å‘è€…) | å¼€å‘è°ƒè¯•ã€è‡ªå®šä¹‰ä¿®æ”¹ | â­â­â­â˜†â˜† | â­â­â­â­â˜† |

---

## ğŸ“‹ è¯¦ç»†éƒ¨ç½²æŒ‡å—

### æ–¹å¼ä¸€ï¼šVercel ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰â­

æœ€ç®€å•å¿«æ·çš„éƒ¨ç½²æ–¹å¼ï¼Œæ— éœ€æœåŠ¡å™¨ï¼Œå®Œå…¨å…è´¹ã€‚

1. ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹éƒ¨ç½²ï¼š

   [![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fmeuxi%2Fai-cesuan&env=api_key,api_base&project-name=ai-cesuan&repository-name=ai-cesuan&demo-title=AI%20Divination&demo-description=AI%20Divination&demo-url=https%3A%2F%2Fcesuan.meuxi.com%2F)

2. åœ¨éƒ¨ç½²æ—¶é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `api_key`ï¼š**å¿…å¡«**ï¼Œä½ çš„ OpenAI API Key
   - `api_base`ï¼šå¯é€‰ï¼ŒAPI åœ°å€ï¼ˆé»˜è®¤ä¸º OpenAI å®˜æ–¹åœ°å€ï¼‰
   - `model`ï¼šå¯é€‰ï¼Œæ¨¡å‹åç§°ï¼ˆé»˜è®¤ gpt-3.5-turboï¼‰
   - `github_client_id`ï¼šå¯é€‰ï¼ŒGitHub OAuth å®¢æˆ·ç«¯ ID
   - `github_client_secret`ï¼šå¯é€‰ï¼ŒGitHub OAuth å®¢æˆ·ç«¯å¯†é’¥
   - `jwt_secret`ï¼šå¯é€‰ï¼ŒJWT å¯†é’¥ï¼ˆå»ºè®®è®¾ç½®å¼ºå¯†ç ï¼‰
   - `ad_client`ï¼šå¯é€‰ï¼ŒGoogle AdSense å®¢æˆ·ç«¯ ID
   - `ad_slot`ï¼šå¯é€‰ï¼ŒGoogle AdSense å¹¿å‘Šä½ ID

   > ğŸ’¡ **æç¤º**ï¼šæ›´å¤šç¯å¢ƒå˜é‡é…ç½®è¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„ `.env.example` æ–‡ä»¶

3. éƒ¨ç½²å®Œæˆåï¼ŒVercel ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªè®¿é—®åŸŸå

4. ä¹Ÿå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå


### æ–¹å¼2ï¼šDocker éƒ¨ç½²

åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
services:
  chatgpt-tarot-divination:
    image: ghcr.io/meuxi/ai-cesuan:latest
    container_name: chatgpt-tarot-divination
    restart: always
    ports:
      - 8000:8000
    environment:
      - api_key=sk-xxx                    # å¿…å¡«ï¼šOpenAI API Key
      # - api_base=https://api.openai.com/v1  # å¯é€‰ï¼šAPI åœ°å€
      # - model=gpt-3.5-turbo              # å¯é€‰ï¼šæ¨¡å‹åç§°
      # - rate_limit=10/minute             # å¯é€‰ï¼šé€Ÿç‡é™åˆ¶
      # - user_rate_limit=600/hour         # å¯é€‰ï¼šç”¨æˆ·é€Ÿç‡é™åˆ¶
      - github_client_id=xxx               # å¯é€‰ï¼šGitHub OAuth
      - github_client_secret=xxx           # å¯é€‰ï¼šGitHub OAuth
      - jwt_secret=secret                  # å¯é€‰ï¼šJWT å¯†é’¥
      - ad_client=ca-pub-xxx               # å¯é€‰ï¼šå¹¿å‘Šå®¢æˆ·ç«¯
      - ad_slot=123                        # å¯é€‰ï¼šå¹¿å‘Šä½
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

è®¿é—® `http://localhost:8000` å³å¯ä½¿ç”¨ã€‚

### æ–¹å¼å››ï¼šæœ¬åœ°è¿è¡Œï¼ˆå¼€å‘è€…ï¼‰

**å‰ç½®è¦æ±‚**ï¼š
- Node.js 16+ï¼ˆæ¨è 18+ï¼‰
- Python 3.8+ï¼ˆæ¨è 3.10+ï¼‰
- pnpmï¼ˆå¿«é€Ÿå®‰è£…ï¼š`npm install -g pnpm`ï¼‰

#### ğŸ› ï¸ å®Œæ•´éƒ¨ç½²æ­¥éª¤

**1. å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/meuxi/ai-cesuan.git
cd ai-cesuan
```

**2. é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè‡³å°‘éœ€è¦é…ç½®ä»¥ä¸‹å¿…å¡«é¡¹ï¼š
# api_key=sk-your-openai-api-key-here
```

**3. å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd frontend
pnpm install
```

**4. æ„å»ºå‰ç«¯**
```bash
# ç”Ÿäº§ç¯å¢ƒæ„å»º
pnpm build --emptyOutDir
cd ..
```

**5. éƒ¨ç½²å‰ç«¯æ–‡ä»¶**
```bash
# Linux/Mac
rm -r dist
cp -r frontend/dist/ dist

# Windows PowerShell
Remove-Item -Recurse -Force dist -ErrorAction SilentlyContinue
Copy-Item -Recurse frontend/dist dist
```

**6. å®‰è£…å¹¶è¿è¡Œåç«¯**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
python3 -m venv ./venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Linux/Mac:
source ./venv/bin/activate
# Windows:
.\venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œåº”ç”¨
python main.py
```

**7. è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8000`

#### ğŸ”§ å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰

å¦‚æœéœ€è¦ä¿®æ”¹ä»£ç ï¼Œå»ºè®®ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼š

**ç»ˆç«¯1ï¼šè¿è¡Œå‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
cd frontend
pnpm dev
```
å‰ç«¯å°†åœ¨ `http://localhost:5173` è¿è¡Œï¼ˆé»˜è®¤ç«¯å£ï¼‰

**ç»ˆç«¯2ï¼šè¿è¡Œåç«¯APIæœåŠ¡å™¨**
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
python main.py
```
åç«¯å°†åœ¨ `http://localhost:8000` è¿è¡Œ

**é…ç½®å‰ç«¯ä»£ç†**
ä¿®æ”¹ `frontend/vite.config.ts`ï¼Œæ·»åŠ ä»£ç†é…ç½®ï¼š
```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': 'http://localhost:8000'
    }
  }
})
```

#### âš™ï¸ ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `api_key` | âœ… | - | OpenAI API å¯†é’¥ |
| `api_base` | âŒ | `https://api.openai.com/v1` | OpenAI API åœ°å€ |
| `model` | âŒ | `gpt-3.5-turbo` | ä½¿ç”¨çš„æ¨¡å‹åç§° |
| `github_client_id` | âŒ | - | GitHub OAuth å®¢æˆ·ç«¯ ID |
| `github_client_secret` | âŒ | - | GitHub OAuth å®¢æˆ·ç«¯å¯†é’¥ |
| `jwt_secret` | âŒ | `secret` | JWT å¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹ï¼‰ |
| `enable_rate_limit` | âŒ | `true` | æ˜¯å¦å¯ç”¨é€Ÿç‡é™åˆ¶ |
| `rate_limit` | âŒ | `60,3600` | æœªç™»å½•ç”¨æˆ·é€Ÿç‡é™åˆ¶ï¼ˆæ¬¡æ•°,ç§’ï¼‰ |
| `user_rate_limit` | âŒ | `600,3600` | å·²ç™»å½•ç”¨æˆ·é€Ÿç‡é™åˆ¶ï¼ˆæ¬¡æ•°,ç§’ï¼‰ |
| `cache_client_type` | âŒ | `memory` | ç¼“å­˜ç±»å‹ï¼šmemory æˆ– redis |
| `ad_client` | âŒ | - | Google AdSense å®¢æˆ·ç«¯ ID |
| `ad_slot` | âŒ | - | Google AdSense å¹¿å‘Šä½ ID |



## ğŸ“ é¡¹ç›®ç»“æ„

```
divination-main/
â”œâ”€â”€ frontend/              # React + Vite å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layouts/      # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ src/                  # FastAPI åç«¯
â”‚   â”œâ”€â”€ cache/           # ç¼“å­˜å®ç°
â”‚   â”œâ”€â”€ divination/      # å åœç®—æ³•
â”‚   â”œâ”€â”€ models.py        # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ app.py           # ä¸»åº”ç”¨
â”œâ”€â”€ requirements.txt     # Python ä¾èµ–
â”œâ”€â”€ main.py             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ Dockerfile          # Docker é…ç½®
â””â”€â”€ README.md           # æœ¬æ–‡æ¡£
```

---

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [QUICK_START.md](./QUICK_START.md) - å¿«é€Ÿå¼€å§‹æŒ‡å—
- [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) - è¯¦ç»†éƒ¨ç½²æŒ‡å—
- [OPTIMIZATION_SUMMARY.md](./OPTIMIZATION_SUMMARY.md) - ä¼˜åŒ–æ€»ç»“
- [AGENTS.md](./AGENTS.md) - AI ä»£ç†é…ç½®

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼åŒ…æ‹¬ä½†ä¸é™äºï¼š
- æŠ¥å‘Š Bug
- æå‡ºæ–°åŠŸèƒ½
- æ”¹è¿›æ–‡æ¡£
- æäº¤ä»£ç 

è¯·é˜…è¯» [CONTRIBUTING.md](./CONTRIBUTING.md)ï¼ˆå¦‚æœ‰ï¼‰äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“œ è®¸å¯è¯

MIT License 


**æç¤º**ï¼šæœ¬é¡¹ç›®ä»…ä¾›å¨±ä¹å’Œå­¦ä¹ ä½¿ç”¨ï¼Œå åœç»“æœè¯·å‹¿è¿‡åº¦ä¾èµ–ã€‚ä¿æŒç†æ€§ï¼Œäº«å—ç§‘æŠ€å¸¦æ¥çš„ä¹è¶£ï¼
